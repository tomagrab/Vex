@page "/Tickets/Grid"
@attribute [Authorize]
@using Vex.Models
@using Vex.Data
@inject AppDbContext AppDbContext

<PageTitle>Ticket Grid | Vex</PageTitle>

<Datagrid TItem="TicketModel" Items="tickets" />

@code {
    private List<TicketModel> tickets = new();

    protected override async Task OnInitializedAsync()
    {
        tickets = await TicketModel.GetAllAsync(AppDbContext);
    }
}